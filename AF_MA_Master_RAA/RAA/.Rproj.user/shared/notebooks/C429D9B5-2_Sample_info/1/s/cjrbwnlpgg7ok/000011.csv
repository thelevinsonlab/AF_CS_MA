"0",""
"0","sample_information_long <- sample_information %>%"
"0","  gather(key = ""Sample Type"", value = ""Count"", "
"0","         c(""Total_AF_samples"", ""Total_SR_samples"")) "
"0",""
"0","# Make a variable to order the bars"
"0","sample_information <- sample_information %>% "
"0","  mutate(Order = row_number(Total_samples))"
"0",""
"0","# Transform the data to long format"
"0","sample_information_long <- sample_information %>%"
"0","  gather(key = ""Sample Type"", value = ""Count"", "
"0","         c(""Total_AF_samples"", ""Total_SR_samples"")) "
"0",""
"0","sample_information_long <- sample_information_long %>% mutate(`Sample Type`=case_when(`Sample Type` == ""Total_AF_samples"" ~ ""AF"","
"0","                                                                                      `Sample Type` == ""Total_SR_samples"" ~ ""SR""))"
"0",""
"0",""
"0","# Create the plot"
"0","sample_plot <- ggplot(sample_information_long, "
"0","       aes(x = reorder(First.author.name, Order), y = Count, fill = `Sample Type`)) +"
"0","  geom_bar(stat = ""identity"", position = 'stack', color = ""black"") +"
"0","  theme_classic() +"
"0","  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +"
"0","  labs(x = ""Study"", y = ""Sample Count"", fill = ""Sample Type"") +"
"0","  coord_flip() + scale_y_continuous(breaks = seq(0, 300, by = 20))"
"0",""
"0","# Save the plot"
"0","ggsave(""sample_plot.png"", plot = sample_plot, width = 10, height = 8, dpi = 600)"
