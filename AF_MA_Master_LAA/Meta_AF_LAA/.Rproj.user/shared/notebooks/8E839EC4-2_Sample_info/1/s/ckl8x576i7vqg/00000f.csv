"0","# Convert necessary variables to numeric"
"0","patient_info$males_af <- as.numeric(patient_info$males_af)"
"0","patient_info$males_sr <- as.numeric(patient_info$males_sr)"
"0",""
"0","# Calculate proportion of males and females"
"0","df_af <- patient_info[, c(""First.author.name"", ""males_af"", ""total_af"")]"
"0","names(df_af) <- c(""Study"", ""Males"", ""Total"")"
"0","df_af$Group <- ""AF"""
"0","df_af$Proportion_Males <- df_af$Males / df_af$Total"
"0","df_af$Proportion_Females <- 1 - df_af$Proportion_Males"
"0",""
"0","df_sr <- patient_info[, c(""First.author.name"", ""males_sr"", ""total_sr"")]"
"0","names(df_sr) <- c(""Study"", ""Males"", ""Total"")"
"0","df_sr$Group <- ""SR"""
"0","df_sr$Proportion_Males <- df_sr$Males / df_sr$Total"
"0","df_sr$Proportion_Females <- 1 - df_sr$Proportion_Males"
"0",""
"0","# Combine dataframes"
"0","df <- rbind(df_af, df_sr)"
"0",""
"0","# Melt dataframes to long format for plotting"
"0","df_melted <- reshape2::melt(df, id.vars = c(""Study"", ""Group""), measure.vars = c(""Proportion_Males"", ""Proportion_Females""))"
"0","df_melted$variable <- factor(df_melted$variable, levels = c(""Proportion_Males"", ""Proportion_Females""))"
"0",""
"0","df_melted$Study_Group <- paste(df_melted$Study, df_melted$Group, sep = ""-"")"
